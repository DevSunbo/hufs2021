{"ast":null,"code":"var _jsxFileName = \"/Users/jeonghokim/Documents/repo/hufs-assist/hufs2021/frontend/src/Header.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport let handler;\n\nhandler = async event => {\n  const response = {\n    statusCode: 200,\n    headers: {\n      \"Access-Control-Allow-Headers\": \"Content-Type\",\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Access-Control-Allow-Methods\": \"OPTIONS,POST,GET\"\n    },\n    body: JSON.stringify('Hello from Lambda!')\n  };\n  return response;\n};\n\nfunction Users() {\n  _s();\n\n  const [users, setUsers] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        // 요청이 시작 할 때에는 error 와 users 를 초기화하고\n        setError(null);\n        setUsers(null); // loading 상태를 true 로 바꿉니다.\n\n        setLoading(true);\n        const response = await axios.get({\n          'access-control-allow-origin': 'http://localhost:8080/api/userinfo',\n          \"Access-Control-Allow-Headers\": \"Content-Type\",\n          \"Access-Control-Allow-Methods\": \"OPTIONS,POST,GET\"\n        } // 'https://jsonplaceholder.typicode.com/users'\n        //{'access-control-allow-origin':'http://localhost:8080/api/userinfo'}\n        //'http://localhost:8080/api/userinfo'\n        );\n        console.log(\"response : \" + response);\n        console.log(response.data);\n        setUsers(response.data); // 데이터는 response.data 안에 들어있습니다.\n      } catch (e) {\n        setError(e);\n      }\n\n      setLoading(false);\n    };\n\n    fetchUsers();\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\uB85C\\uB529\\uC911..\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\uC5D0\\uB7EC\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 23\n  }, this);\n  if (!users) return null;\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: users.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n      children: user.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Users, \"tq8fu1gobXtE39DyM7UStpaQx7k=\");\n\n_c = Users;\nexport default Users; //{'access-control-allow-origin':'http://localhost:8080/api/userinfo'}\n\nvar _c;\n\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"sources":["/Users/jeonghokim/Documents/repo/hufs-assist/hufs2021/frontend/src/Header.js"],"names":["React","useState","useEffect","axios","handler","event","response","statusCode","headers","body","JSON","stringify","Users","users","setUsers","loading","setLoading","error","setError","fetchUsers","get","console","log","data","e","map","user","name"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,OAAO,IAAIC,OAAJ;;AACPA,OAAO,GAAG,MAAOC,KAAP,IAAiB;AACvB,QAAMC,QAAQ,GAAG;AACbC,IAAAA,UAAU,EAAE,GADC;AAEbC,IAAAA,OAAO,EAAE;AACL,sCAAiC,cAD5B;AAEL,qCAA+B,GAF1B;AAGL,sCAAgC;AAH3B,KAFI;AAObC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,oBAAf;AAPO,GAAjB;AASA,SAAOL,QAAP;AACH,CAXD;;AAaA,SAASM,KAAT,GAAiB;AAAA;;AACb,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACc,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACgB,KAAD,EAAQC,QAAR,IAAoBjB,QAAQ,CAAC,IAAD,CAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMiB,UAAU,GAAG,YAAY;AAC3B,UAAI;AACA;AACAD,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACAJ,QAAAA,QAAQ,CAAC,IAAD,CAAR,CAHA,CAIA;;AACAE,QAAAA,UAAU,CAAC,IAAD,CAAV;AAEA,cAAMV,QAAQ,GAAG,MAAMH,KAAK,CAACiB,GAAN,CAEnB;AAAC,yCAA8B,oCAA/B;AACI,0CAAiC,cADrC;AAEI,0CAAgC;AAFpC,SAFmB,CAMnB;AACA;AACA;AARmB,SAAvB;AAUAC,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBhB,QAA5B;AACAe,QAAAA,OAAO,CAACC,GAAR,CAAYhB,QAAQ,CAACiB,IAArB;AACAT,QAAAA,QAAQ,CAACR,QAAQ,CAACiB,IAAV,CAAR,CAnBA,CAmByB;AAC5B,OApBD,CAoBE,OAAOC,CAAP,EAAU;AACRN,QAAAA,QAAQ,CAACM,CAAD,CAAR;AACH;;AACDR,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAzBD;;AA2BAG,IAAAA,UAAU;AACb,GA7BQ,EA6BN,EA7BM,CAAT;AA+BA,MAAIJ,OAAJ,EAAa,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACb,MAAIE,KAAJ,EAAW,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACX,MAAI,CAACJ,KAAL,EAAY,OAAO,IAAP;AACZ,sBACI;AAAA,cACKA,KAAK,CAACY,GAAN,CAAUC,IAAI,iBACX;AAAA,gBACKA,IAAI,CAACC;AADV;AAAA;AAAA;AAAA;AAAA,YADH;AADL;AAAA;AAAA;AAAA;AAAA,UADJ;AASH;;GAhDQf,K;;KAAAA,K;AAkDT,eAAeA,KAAf,C,CACA","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nexport let handler;\nhandler = async (event) => {\n    const response = {\n        statusCode: 200,\n        headers: {\n            \"Access-Control-Allow-Headers\" : \"Content-Type\",\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Methods\": \"OPTIONS,POST,GET\"\n        },\n        body: JSON.stringify('Hello from Lambda!'),\n    };\n    return response;\n};\n\nfunction Users() {\n    const [users, setUsers] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        const fetchUsers = async () => {\n            try {\n                // 요청이 시작 할 때에는 error 와 users 를 초기화하고\n                setError(null);\n                setUsers(null);\n                // loading 상태를 true 로 바꿉니다.\n                setLoading(true);\n\n                const response = await axios.get(\n\n                    {'access-control-allow-origin':'http://localhost:8080/api/userinfo',\n                        \"Access-Control-Allow-Headers\" : \"Content-Type\",\n                        \"Access-Control-Allow-Methods\": \"OPTIONS,POST,GET\"\n                    }\n                    // 'https://jsonplaceholder.typicode.com/users'\n                    //{'access-control-allow-origin':'http://localhost:8080/api/userinfo'}\n                    //'http://localhost:8080/api/userinfo'\n                );\n                console.log(\"response : \" + response)\n                console.log(response.data)\n                setUsers(response.data); // 데이터는 response.data 안에 들어있습니다.\n            } catch (e) {\n                setError(e);\n            }\n            setLoading(false);\n        };\n\n        fetchUsers();\n    }, []);\n\n    if (loading) return <div>로딩중..</div>;\n    if (error) return <div>에러가 발생했습니다</div>;\n    if (!users) return null;\n    return (\n        <ul>\n            {users.map(user => (\n                <li >\n                    {user.name}\n                </li>\n            ))}\n        </ul>\n    );\n}\n\nexport default Users;\n//{'access-control-allow-origin':'http://localhost:8080/api/userinfo'}"]},"metadata":{},"sourceType":"module"}